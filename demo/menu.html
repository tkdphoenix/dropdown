<html>
<head>
	<title>D2L Menu Web Component</title>
	<script src="https://s.brightspace.com/lib/webcomponentsjs/0.7.21/webcomponents.min.js"></script>
	<script>
		//window.Polymer = window.Polymer || {};
		//window.Polymer.dom = 'shadow';
	</script>
	<link rel="stylesheet" href="demo-styles.css">
	<link rel="import" href="../d2l-menu.html">
</head>
<body>

	<h1>d2l-menu web component</h1>

	<div>
		<h2>Configuration</h2>
		<div style="margin-bottom: 0.75rem;">
			<button onclick="toggleRTL();">Toggle RTL</button>
			<button onclick="toggleFloat();">Toggle Float</button>
			<button onclick="setFocus();">Set Focus</button>
			<button onclick="addItem();">Add Top Item</button>
			<button onclick="showDeepMenu();">Show Deep Menu</button>
		</div>
		<div style="margin-bottom: 0.75rem;"></div>
	</div>

	<div>
		<div id="content">
			<h2>Component</h2>

			<d2l-menu id="menu" label="Astronomy" style="width:400px;">
				<d2l-menu-item text="Introduction"></d2l-menu-item>
				<d2l-menu-item text="Searching the Heavens"></d2l-menu-item>
				<d2l-menu-item text="The Solar System">
					<d2l-menu>
						<d2l-menu-item text="Formation"></d2l-menu-item>
						<d2l-menu-item text="Modern Solar System"></d2l-menu-item>
						<d2l-menu-item text="Future Solar System"></d2l-menu-item>
						<d2l-menu-item text="The Planets">
							<d2l-menu>
								<d2l-menu-item text="Mercury"></d2l-menu-item>
								<d2l-menu-item text="Venus"></d2l-menu-item>
								<d2l-menu-item text="Earth"></d2l-menu-item>
								<d2l-menu-item text="Mars"></d2l-menu-item>
								<d2l-menu-item text="Jupiter"></d2l-menu-item>
								<d2l-menu-item text="Saturn"></d2l-menu-item>
								<d2l-menu-item text="Uranus"></d2l-menu-item>
								<d2l-menu-item text="Neptune"></d2l-menu-item>
								<d2l-menu-item text="Dwarf Planets"></d2l-menu-item>
							</d2l-menu>
						</d2l-menu-item>
						<d2l-menu-item text="The Sun"></d2l-menu-item>
						<d2l-menu-item text="Solar &amp; Lunar Eclipses"></d2l-menu-item>
						<d2l-menu-item text="Meteors &amp; Meteorites"></d2l-menu-item>
						<d2l-menu-item text="Asteroids"></d2l-menu-item>
						<d2l-menu-item text="Comets"></d2l-menu-item>
					</d2l-menu>
				</d2l-menu-item>
				<d2l-menu-item text="Stars &amp; Galaxies">
					<d2l-menu>
						<d2l-menu-item text="What is a Star?"></d2l-menu-item>
						<d2l-menu-item text="Lifecycle of a Star"></d2l-menu-item>
						<d2l-menu-item text="Binaries &amp; Multiples"></d2l-menu-item>
						<d2l-menu-item text="Star Clusters"></d2l-menu-item>
						<d2l-menu-item text="Star Death">
							<d2l-menu>
								<d2l-menu-item text="Supernovae"></d2l-menu-item>
								<d2l-menu-item text="Black Holes"></d2l-menu-item>
							</d2l-menu>
						</d2l-menu-item>
						<d2l-menu-item text="Star Clusters"></d2l-menu-item>
						<d2l-menu-item text="Galaxies">
							<d2l-menu>
								<d2l-menu-item text="Classification"></d2l-menu-item>
								<d2l-menu-item text="Birth &amp; Evolution"></d2l-menu-item>
								<d2l-menu-item text="Spiral"></d2l-menu-item>
								<d2l-menu-item text="Elliptical"></d2l-menu-item>
								<d2l-menu-item text="Lenticular"></d2l-menu-item>
								<d2l-menu-item text="Irregular"></d2l-menu-item>
								<d2l-menu-item text="Active &amp; Radio"></d2l-menu-item>
								<d2l-menu-item text="Quasars"></d2l-menu-item>
								<d2l-menu-item text="Galaxy Clusters"></d2l-menu-item>
							</d2l-menu>
						</d2l-menu-item>
					</d2l-menu>
				</d2l-menu-item>
				<d2l-menu-item text="The Night Sky">
					<d2l-menu>
						<d2l-menu-item text="Constellations"></d2l-menu-item>
						<d2l-menu-item text="Mapping the Heavens"></d2l-menu-item>
						<d2l-menu-item text="Reading Star Maps"></d2l-menu-item>
						<d2l-menu-item text="Telescopes"></d2l-menu-item>
					</d2l-menu>
				</d2l-menu-item>
				<d2l-menu-item text="The Universe"></d2l-menu-item>
			</d2l-menu>

		</div>
		<div style="clear:both;"></div>
	</div>
	<script>

		var page_menu, page_menu_items;

		window.addEventListener('WebComponentsReady', function(e) {
			page_menu = document.getElementById('menu');
			page_menu_items = Polymer.dom(page_menu).children;
			page_menu.addEventListener('select', function(e) {
				console.log('item selected:', e);
			});
		});

		function appendMenu() {
			document.getElementById('content').appendChild(page_menu);
		}

		function removeMenu() {
			page_menu.parentNode.removeChild(page_menu);
		}

		function setFocus() {
			page_menu.focus();
		}

		function addItem() {
			var item = document.createElement('d2l-menu-item');
			item.setAttribute('text', 'Puncak Jaya (16,024 ft)');

			Polymer.dom(page_menu).insertBefore(
				item,
				Polymer.dom(page_menu).children[0]
			);
		}

		function showDeepMenu() {
			var deepMenu = document.getElementById('deepMenu');
			deepMenu.show();
		}

		function toggleRTL() {
			var isRTL = (document.body.dir === 'rtl');
			if (isRTL) {
				document.body.dir = 'ltr';
			} else {
				document.body.dir = 'rtl';
			}
			removeMenu();
			appendMenu();
		}

		function toggleFloat() {
			var content = document.getElementById('content');
			var isFloatRight = (content.style.cssFloat === 'right');
			if (isFloatRight) {
				content.style.cssFloat = '';
			} else {
				content.style.cssFloat = 'right';
			}
		}

	</script>
</body>
</html>
